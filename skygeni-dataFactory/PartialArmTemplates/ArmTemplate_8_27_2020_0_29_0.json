{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "skygeni-dataFactory"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/cleo_extract_stg_account')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "PL_CPY_SALESFORCE_CLEO_V2",
							"type": "PipelineReference"
						},
						"parameters": {
							"schema": "C0001",
							"table": "ACCOUNT",
							"sfObject": "Account",
							"query": "SELECT Id,Name,Type,AnnualRevenue,NumberOfEmployees,AccountCode__c,Account_Owner_Name__c,OwnerId,CreatedDate,CreatedById,LastModifiedDate from Account where LastModifiedDate > ",
							"column": "LastModifiedDate"
						}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2020-08-26T18:40:00.000Z",
						"timeZone": "UTC",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								21
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/cleo_extract_stg_user')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "PL_CPY_SALESFORCE_CLEO_V2",
							"type": "PipelineReference"
						},
						"parameters": {
							"schema": "C0001",
							"table": "USER",
							"sfObject": "User",
							"query": "Select Id, Username, Name, CompanyName, Division, Department, Title, IsActive, TimeZoneSidKey, UserRoleId, ManagerId, LastLoginDate, CreatedDate, LastModifiedDate, SystemModstamp from User where LastModifiedDate > ",
							"column": "LastModifiedDate"
						}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2020-08-26T18:50:00.000Z",
						"timeZone": "UTC",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								21
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/cleo_extract_stg_role')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "PL_CPY_SALESFORCE_CLEO_V2",
							"type": "PipelineReference"
						},
						"parameters": {
							"schema": "C0001",
							"table": "ROLE",
							"sfObject": "UserRole",
							"query": "SELECT Id, Name, ParentRoleId, RollupDescription, LastModifiedDate, SystemModstamp, DeveloperName from UserRole where LastModifiedDate >",
							"column": "LastModifiedDate"
						}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2020-08-26T18:51:00.000Z",
						"timeZone": "UTC",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								21
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/cleo_extract_stg_opp')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "PL_CPY_SALESFORCE_CLEO_V2",
							"type": "PipelineReference"
						},
						"parameters": {
							"schema": "C0001",
							"table": "OPPORTUNITY",
							"sfObject": "Opportunity",
							"query": "select Id, AccountId, OwnerId, Name, Type, Customer_Type__c, CIC_Package__c, Solution_Category__c, Sales_Products__c, Amount, Annual_Contract_Value__c, Total_Contract_Value__c, Equivalent_License_Value__c, Professional_Services_Amt__c, StageName, Stage_Master__c, Probability, CreatedDate, CloseDate, Industry__c, Segment__c, Micro_Segment__c, Sub_Industry__c, Region__c, Services_Type__c, CampaignId, Source__c, ExpectedRevenue, LeadSource, IsClosed, IsWon, ForecastCategory, ForecastCategoryName, HasOpportunityLineItem, Disqualified_Reason__c, CreatedById, Created_By_BDR__c, Created_by_AM__c, Created_by_CSM__c, Historical_Owner_Role__c, Fiscal, LastActivityDate, LastModifiedDate, LastModifiedById, SystemModstamp from Opportunity where LastModifiedDate > ",
							"column": "LastModifiedDate"
						}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2020-08-26T18:51:00.000Z",
						"timeZone": "UTC",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								21
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/cleo_extract_stg_opp_field_history')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "PL_CPY_SALESFORCE_CLEO_V2",
							"type": "PipelineReference"
						},
						"parameters": {
							"schema": "C0001",
							"table": "OPPORTUNITY_FIELD_HISTORY",
							"sfObject": "OpportunityFieldHistory",
							"query": "select Id,IsDeleted,OpportunityId,CreatedById,CreatedDate,Field,OldValue,NewValue from  OpportunityFieldHistory where CreatedDate > ",
							"column": "CreatedDate"
						}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2020-08-26T18:52:00.000Z",
						"timeZone": "UTC",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								21
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/cleo_extract_stg_opp_history')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "PL_CPY_SALESFORCE_CLEO_V2",
							"type": "PipelineReference"
						},
						"parameters": {
							"schema": "C0001",
							"table": "OPPORTUNITY_HISTORY",
							"sfObject": "OpportunityHistory",
							"query": "select Id,OpportunityId,CreatedById,CreatedDate,StageName,Amount,ExpectedRevenue,CloseDate,Probability,ForecastCategory,SystemModstamp,IsDeleted from OpportunityHistory where CreatedDate > ",
							"column": "CreatedDate"
						}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2020-08-26T18:52:00.000Z",
						"timeZone": "UTC",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								21
							]
						}
					}
				}
			},
			"dependsOn": []
		}
	]
}